<!--<ng-container *ngIf="question?.options">
  {{ currentQuestion | json }}
  <label
    class="options"
    *ngFor="
      let option of currentQuestion?.options;
      let i = index;
      trackBy: trackByFn
    "
  >
    <mat-checkbox
      (click)="selectedOption = option; onOptionSelected(option)"
      (change)="
        onSelectionChange(currentQuestion, $event);
        selectionChange.emit({ question: question, selectedOption: option })
      "
      [class]="getOptionClass(option)"
      [value]="option.optionId"
      [checked]="selectedOptions.includes(option)"
      [disabled]="option.disabled"
    >
      <span class="option-letter" i18n>{{ i + 1 }}.</span>&nbsp;
      <span class="option-text">{{ option?.text }}</span>
      <codelab-quiz-option-feedback
        *ngIf="selectedOption === option && showFeedback"
        [correct]="option?.correct"
        [selected]="selectedOptions.includes(option)"
      >
      </codelab-quiz-option-feedback>
    </mat-checkbox>

    <div *ngIf="selectedOption === option && showFeedback">
      <codelab-quiz-feedback
        *ngIf="selectedOption === option && showFeedback"
        [question]="currentQuestion"
        [selectedOption]="selectedOption"
        [correctMessage]="correctMessage"
      ></codelab-quiz-feedback>
    </div>
  </label>
</ng-container>-->

<!--<ng-container *ngIf="question?.options">
    <div class="options-container">
      <label class="options" *ngFor="let option of currentQuestion?.options; let i = index; trackBy: trackByFn">
        <mat-checkbox
          (click)="selectedOption = option; onOptionSelected(option)"
          (change)="onSelectionChange(currentQuestion, $event); selectionChange.emit({ question: question, selectedOption: option })"
          [class]="getOptionClass(option)"
          [value]="option.optionId"
          [checked]="selectedOptions.includes(option)"
          [disabled]="option.disabled"
        >
          <span class="option-letter" i18n>{{ i + 1 }}.</span>&nbsp;
          <span class="option-text">{{ option?.text }}</span>
          <codelab-quiz-option-feedback
            [correct]="option?.correct"
            [selected]="selectedOptions.includes(option)"
          ></codelab-quiz-option-feedback>
        </mat-checkbox>
        <div class="feedback-container" *ngIf="selectedOptions.includes(option)">
          <codelab-quiz-feedback
            [question]="currentQuestion"
            [selectedOption]="option"
            [correctMessage]="correctMessage"
          ></codelab-quiz-feedback>
        </div>
      </label>
    </div>
  </ng-container>-->

<!--  <ng-container *ngIf="question?.options">
    <div class="options-container">
      <label class="options" *ngFor="let option of currentQuestion?.options; let i = index; trackBy: trackByFn">
        <mat-checkbox
          (click)="onOptionSelected(option)"
          (change)="onSelectionChange(currentQuestion, $event); selectionChange.emit({ question: question, selectedOption: option })"
          [class]="getOptionClass(option)"
          [value]="option.optionId"
          [checked]="selectedOptions.includes(option)"
          [disabled]="option.disabled"
        >
          <span class="option-letter" i18n>{{ i + 1 }}.</span>&nbsp;
          <span class="option-text">{{ option?.text }}</span>
          <codelab-quiz-option-feedback
            [correct]="option?.correct"
            [selected]="selectedOptions.includes(option)"
          ></codelab-quiz-option-feedback>
        </mat-checkbox>
        <div class="feedback-container" *ngIf="isSelectedOption(option)">
          <codelab-quiz-feedback
            [question]="currentQuestion"
            [selectedOption]="option"
            [correctMessage]="correctMessage"
          ></codelab-quiz-feedback>
        </div>
      </label>
    </div>
  </ng-container>-->
  
  <!--<ng-container *ngIf="question?.options">
    <div class="options-container">
      <label class="options" *ngFor="let option of currentQuestion?.options; let i = index; trackBy: trackByFn">
        <mat-checkbox
          (click)="selectedOption = option; onOptionSelected(option)"
          (change)="onSelectionChange(currentQuestion, $event); selectionChange.emit({ question: question, selectedOption: option })"
          [class]="getOptionClass(option)"
          [value]="option.optionId"
          [checked]="selectedOptions.includes(option)"
          [disabled]="option.disabled"
        >
          <span class="option-letter" i18n>{{ i + 1 }}.</span>&nbsp;
          <span class="option-text">{{ option?.text }}</span>
          <codelab-quiz-option-feedback
            [correct]="option?.correct"
            [selected]="selectedOptions.includes(option)"
          ></codelab-quiz-option-feedback>
        </mat-checkbox>
        <div class="feedback-container" *ngIf="isSelectedOption(option) && showFeedback">
          <codelab-quiz-feedback
            [question]="currentQuestion"
            [selectedOption]="option"
            [correctMessage]="correctMessage"
          ></codelab-quiz-feedback>
        </div>
      </label>
    </div>
  </ng-container>-->
  
  <!--<ng-container *ngIf="question?.options">
    <div class="options-container">
      <label class="options" *ngFor="let option of currentQuestion?.options; let i = index; trackBy: trackByFn">
        <mat-checkbox
          (click)="onOptionSelected(option)"
          (change)="onSelectionChange(currentQuestion, $event); selectionChange.emit({ question: question, selectedOption: option })"
          [class]="getOptionClass(option)"
          [value]="option.optionId"
          [checked]="selectedOptions.includes(option)"
          [disabled]="option.disabled"
        >
          <span class="option-letter" i18n>{{ i + 1 }}.</span>&nbsp;
          <span class="option-text">{{ option?.text }}</span>
          <codelab-quiz-option-feedback
            [correct]="option?.correct"
            [selected]="selectedOptions.includes(option)"
          ></codelab-quiz-option-feedback>
        </mat-checkbox>
        <div class="feedback-container">
          <codelab-quiz-feedback
            *ngIf="isSelectedOption(option) && showFeedback"
            [question]="currentQuestion"
            [selectedOption]="option"
            [correctMessage]="correctMessage"
          ></codelab-quiz-feedback>
        </div>
      </label>
    </div>
  </ng-container>-->

  <!--<ng-container *ngIf="question?.options">
    <div class="options-container">
      <label class="options" *ngFor="let option of currentQuestion?.options; let i = index; trackBy: trackByFn">
        <mat-checkbox
          (click)="selectedOption = option; onOptionSelected(option)"
          (change)="onSelectionChange(currentQuestion, $event); selectionChange.emit({ question: question, selectedOption: option })"
          [class]="getOptionClass(option)"
          [value]="option.optionId"
          [checked]="selectedOptions.includes(option)"
          [disabled]="option.disabled"
        >
          <span class="option-letter" i18n>{{ i + 1 }}.</span>&nbsp;
          <span class="option-text">{{ option?.text }}</span>
          <codelab-quiz-option-feedback
            [correct]="option?.correct"
            [selected]="selectedOptions.includes(option)"
          ></codelab-quiz-option-feedback>
        </mat-checkbox>
        <div class="feedback-container" *ngIf="selectedOption === option || selectedOptions.includes(option)">
          <codelab-quiz-feedback
            [question]="currentQuestion"
            [selectedOption]="option"
            [correctMessage]="correctMessage"
          ></codelab-quiz-feedback>
        </div>
      </label>
    </div>
  </ng-container>-->

<!--  <ng-container *ngIf="question?.options">
    <div class="options-container">
      <label class="options" *ngFor="let option of currentQuestion?.options; let i = index; trackBy: trackByFn">
        <mat-checkbox
          (click)="onOptionSelected(option)"
          (change)="onSelectionChange(currentQuestion, $event); selectionChange.emit({ question: question, selectedOption: option })"
          [class]="getOptionClass(option)"
          [value]="option.optionId"
          [checked]="selectedOptions.includes(option)"
          [disabled]="option.disabled"
        >
          <span class="option-letter" i18n>{{ i + 1 }}.</span>&nbsp;
          <span class="option-text">{{ option?.text }}</span>
          <span class="option-feedback-icon">
            <codelab-quiz-option-feedback
              [correct]="option?.correct"
              [selected]="isSelectedOption(option)"
            ></codelab-quiz-option-feedback>
          </span>
        </mat-checkbox>
        <div class="feedback-container" *ngIf="isSelectedOption(option)">
          <codelab-quiz-feedback
            [question]="currentQuestion"
            [selectedOption]="option"
            [correctMessage]="correctMessage"
          ></codelab-quiz-feedback>
        </div>
      </label>
    </div>
  </ng-container> -->
  
  <!--<ng-container *ngIf="question?.options">
    <div class="options-container">
      <label class="options" *ngFor="let option of currentQuestion?.options; let i = index; trackBy: trackByFn">
        <mat-checkbox
          (click)="onOptionSelected(option)"
          (change)="onSelectionChange(currentQuestion, $event); selectionChange.emit({ question: question, selectedOption: option })"
          [class]="getOptionClass(option)"
          [value]="option.optionId"
          [checked]="selectedOptions.includes(option)"
          [disabled]="option.disabled"
        >
          <span class="option-letter" i18n>{{ i + 1 }}.</span>&nbsp;
          <span class="option-text">{{ option?.text }}</span>
          <span class="option-feedback-icon">
            <codelab-quiz-option-feedback
              [correct]="option?.correct"
              [selected]="isSelectedOption(option) || selectedOption === option"
            ></codelab-quiz-option-feedback>
          </span>
        </mat-checkbox>
        <div class="feedback-container" *ngIf="isSelectedOption(option) || selectedOption === option">
          <codelab-quiz-feedback
            [question]="currentQuestion"
            [selectedOption]="option"
            [correctMessage]="correctMessage"
          ></codelab-quiz-feedback>
        </div>
      </label>
    </div>
  </ng-container>-->

  <!--<ng-container *ngIf="question?.options">
    <div class="options-container">
      <label class="options" *ngFor="let option of currentQuestion?.options; let i = index; trackBy: trackByFn">
        <mat-checkbox
          (click)="onOptionSelected(option)"
          (change)="onSelectionChange(currentQuestion, $event); selectionChange.emit({ question: question, selectedOption: option })"
          [class]="getOptionClass(option)"
          [value]="option.optionId"
          [checked]="selectedOptions.includes(option)"
          [disabled]="option.disabled"
        >
          <span class="option-letter" i18n>{{ i + 1 }}.</span>&nbsp;
          <span class="option-text">{{ option?.text }}</span>
          <ng-container *ngIf="(isSelectedOption(option) || selectedOption === option) && (selectedOption || selectedOptions.includes(option))">
            <codelab-quiz-option-feedback
              [correct]="option?.correct"
              [selected]="true"
            ></codelab-quiz-option-feedback>
          </ng-container>
        </mat-checkbox>
        <div class="feedback-container" *ngIf="(isSelectedOption(option) || selectedOption === option) && (selectedOption || selectedOptions.includes(option))">
          <codelab-quiz-feedback
            [question]="currentQuestion"
            [selectedOption]="option"
            [correctMessage]="correctMessage"
          ></codelab-quiz-feedback>
        </div>
      </label>
    </div>
  </ng-container>-->

  <!--<ng-container *ngIf="question?.options">
    <div class="options-container">
      <label class="options" *ngFor="let option of currentQuestion?.options; let i = index; trackBy: trackByFn">
        <mat-checkbox
          (click)="onOptionSelected(option)"
          (change)="onSelectionChange(currentQuestion, $event); selectionChange.emit({ question: question, selectedOption: option })"
          [class]="getOptionClass(option)"
          [value]="option.optionId"
          [checked]="selectedOptions.includes(option)"
          [disabled]="option.disabled"
        >
          <span class="option-letter" i18n>{{ i + 1 }}.</span>&nbsp;
          <span class="option-text">{{ option?.text }}</span>
          <div class="feedback-container" *ngIf="isSelectedOption(option) || selectedOption === option">
            <codelab-quiz-option-feedback
              [correct]="option?.correct"
              [selected]="isSelectedOption(option)"
            ></codelab-quiz-option-feedback>
          </div>
        </mat-checkbox>
        <div class="option-feedback-icon" *ngIf="isSelectedOption(option)">
          <codelab-quiz-feedback
            [question]="currentQuestion"
            [selectedOption]="option"
            [correctMessage]="correctMessage"
          ></codelab-quiz-feedback>
        </div>
      </label>
    </div>
  </ng-container>-->

  <!--<ng-container *ngIf="question?.options">
    <div class="options-container">
      <label class="options" *ngFor="let option of currentQuestion?.options; let i = index; trackBy: trackByFn">
        <mat-checkbox
          (click)="onOptionSelected(option)"
          (change)="onSelectionChange(currentQuestion, $event); selectionChange.emit({ question: question, selectedOption: option })"
          [class]="getOptionClass(option)"
          [value]="option.optionId"
          [checked]="selectedOptions.includes(option)"
          [disabled]="option.disabled"
        >
          <span class="option-letter" i18n>{{ i + 1 }}.</span>&nbsp;
          <span class="option-text">{{ option?.text }}</span>
          <ng-container *ngIf="isSelectedOption(option)">
            <codelab-quiz-option-feedback
              [correct]="option?.correct"
              [selected]="true"
            ></codelab-quiz-option-feedback>
          </ng-container>
        </mat-checkbox>
        <div class="feedback-container" *ngIf="isSelectedOption(option)">
          <codelab-quiz-feedback
            [question]="currentQuestion"
            [selectedOption]="option"
            [correctMessage]="correctMessage"
          ></codelab-quiz-feedback>
        </div>
      </label>
    </div>
  </ng-container>-->

  <ng-container *ngIf="question?.options">
    <div class="options-container">
      <label class="options" *ngFor="let option of currentQuestion?.options; let i = index; trackBy: trackByFn">
        <mat-checkbox
          (click)="onOptionSelected(option)"
          (change)="onSelectionChange(currentQuestion, $event); selectionChange.emit({ question: question, selectedOption: option })"
          [class]="getOptionClass(option)"
          [value]="option.optionId"
          [checked]="selectedOptions.includes(option)"
          [disabled]="option.disabled"
        >
          <span class="option-letter" i18n>{{ i + 1 }}.</span>&nbsp;
          <span class="option-text">{{ option?.text }}</span>
        </mat-checkbox>
        <div class="feedback-container" *ngIf="(isSelectedOption(option) || selectedOption === option) && (selectedOption || selectedOptions.includes(option))">
          <codelab-quiz-feedback
            [question]="currentQuestion"
            [selectedOption]="option"
            [correctMessage]="correctMessage"
          ></codelab-quiz-feedback>
        </div>
      </label>
    </div>
  </ng-container>
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  