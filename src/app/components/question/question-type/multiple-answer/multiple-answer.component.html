<ng-container *ngIf="question?.options">
  <!--{{ currentQuestion | json }}-->
  <label
    class="options"
    *ngFor="
      let option of currentQuestion?.options;
      let i = index;
      trackBy: trackByFn
    "
  >
    <mat-checkbox
      (click)="selectedOption = option; onOptionSelected(option)"
      (change)="onSelectionChange(currentQuestion, $event); selectionChange.emit({ question: question, selectedOption: option })"
      [class]="getOptionClass(option)"
      [value]="option.optionId"
      [checked]="optionChecked[option?.optionId]"
      [disabled]="option.disabled"
    >
      <span class="option-letter" i18n>{{ i + 1 }}.</span>&nbsp;
      <span class="option-text">{{ option?.text }}</span>
      <codelab-quiz-option-feedback
        [correct]="option?.correct"
        [selected]="selectedOption === option"
      >
      </codelab-quiz-option-feedback>
    </mat-checkbox>

    <codelab-quiz-feedback
      *ngIf="selectedOption === option"
      [question]="currentQuestion"
      [selectedOption]="selectedOption"
      [correctMessage]="correctMessage"
    ></codelab-quiz-feedback>
  </label>
</ng-container>

