<form [formGroup]="questionForm" [ngSwitch]="multipleAnswer">
  <ng-container *ngIf="data?.questionText || data?.correctAnswersText">
    <ng-container *ngSwitchCase="multipleAnswer">
      <ng-container *ngIf="shouldDisplayOptions()">
        <codelab-question-multiple-answer
          [form]="questionForm"
          [question]="question"
          [questions]="questions"
          [currentQuestion$]="currentQuestion$ | async"
          [currentQuestionIndex]="currentQuestionIndex"
          [options]="question?.options"
          [selectedOptions]="currentQuestion?.selectedOptions"
          [correctAnswers]="correctAnswers"
          [correctMessage]="correctMessage"
          (answer)="updateClassName($event)"
        ></codelab-question-multiple-answer>
      </ng-container>
      <ng-container *ngIf="shouldHideOptions()">
        No options found for the current question.
      </ng-container>
    </ng-container>

    <ng-container *ngSwitchCase="!multipleAnswer">
      <ng-container *ngIf="shouldDisplayOptions()">
        <codelab-question-single-answer
          [question]="currentQuestion"
          [questions]="questions"
          [options]="currentQuestion?.options"
          [currentQuestion]="currentQuestion"
          [currentQuestionIndex]="currentQuestionIndex"
          [selectedOption]="currentQuestion?.selectedOption"
          (answer)="updateClassName($event)"
        ></codelab-question-single-answer>
      </ng-container>
      <ng-container *ngIf="shouldHideOptions()">
        No options found for the current question.
      </ng-container>
    </ng-container>
  </ng-container>
</form>
