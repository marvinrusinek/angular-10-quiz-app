<form [formGroup]="questionForm">
  <ng-container *ngIf="shouldDisplayTextContent()">
    <ng-container *ngIf="shouldDisplayOptions(); else noOptions">
      <ng-container [ngSwitch]="multipleAnswer">
        <!-- Multiple Answer -->
        <codelab-question-multiple-answer *ngSwitchCase="true"
          [form]="questionForm"
          [data]="data"
          [question]="questionToDisplay"
          [questions]="questions"
          [questionData]="questionData"
          [currentQuestion$]="currentQuestion$"
          [currentQuestionIndex]="currentQuestionIndex"
          [options]="getOptionsForQuestion()"
          [optionsToDisplay]="optionsToDisplay"
          [selectedOptions]="currentQuestion?.selectedOptions"
          [correctAnswers]="correctAnswers"
          [correctMessage]="correctMessage"
          (answer)="updateClassName($event)"
        ></codelab-question-multiple-answer>

        <!-- Single Answer -->
        <codelab-question-single-answer *ngSwitchCase="false"
          [data]="data"
          [question]="questionToDisplay"
          [questions]="questions"
          [questionData]="questionData"
          [options]="getOptionsForQuestion()"
          [optionsToDisplay]="optionsToDisplay"
          [currentQuestion]="currentQuestion"
          [currentQuestionIndex]="currentQuestionIndex"
          [selectedOption]="currentQuestion?.selectedOption"
          [correctMessage]="correctMessage"
          (answer)="updateClassName($event)"
        ></codelab-question-single-answer>
      </ng-container>
    </ng-container>
    <ng-template #noOptions>
      No options found for the current question.
    </ng-template>
  </ng-container>
</form>
