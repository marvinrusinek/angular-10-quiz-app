<ng-container *ngIf="optionBindings?.length; else noOptions">
  <form [formGroup]="form">

    <!-- SINGLE-ANSWER MODE -->
    <div *ngIf="optionBindings[0].type === 'single'">
      <mat-radio-group formControlName="selectedOptionId">
        <ng-container
          *ngFor="let b of optionBindings; let i = index; trackBy: trackByOption">

          <!-- every radio wrapped in .options label -->
          <label class="options">
            <mat-radio-button
              (pointerdown)="handleRadio(b, i, $event)"
              [value]="b.option.optionId"
              appHighlightOption
              [optionBinding]="b">
              <div class="option-content">
                <span class="option-text">
                  {{ getOptionDisplayText(b.option, i) }}
                </span>
                <mat-icon *ngIf="shouldShowIcon(b.option)" class="option-icon">
                  {{ getOptionIcon(b.option) }}
                </mat-icon>
              </div>
            </mat-radio-button>

            <!-- feedback for this radio -->
            <codelab-quiz-feedback
              *ngIf="shouldShowFeedback(i)"
              [feedbackConfig]="feedbackConfigs[i]">
            </codelab-quiz-feedback>
          </label>

        </ng-container>
      </mat-radio-group>
    </div>

    <!-- MULTIPLE-ANSWER MODE -->
    <div *ngIf="optionBindings[0].type === 'multiple'">
      <ng-container
        *ngFor="let b of optionBindings; let i = index; trackBy: trackByOption">

        <label class="options">
          <mat-checkbox
            [checked]="b.option.selected"
            (change)="onMatCheckboxChanged(b, i, $event)"
            appHighlightOption
            [optionBinding]="b">
            <div class="option-content">
              <span class="option-text">
                {{ getOptionDisplayText(b.option, i) }}
              </span>
              <mat-icon *ngIf="shouldShowIcon(b.option)" class="option-icon">
                {{ getOptionIcon(b.option) }}
              </mat-icon>
            </div>
          </mat-checkbox>

          <codelab-quiz-feedback
            *ngIf="shouldShowFeedback(i)"
            [feedbackConfig]="feedbackConfigs[i]">
          </codelab-quiz-feedback>
        </label>

      </ng-container>
    </div>

  </form>
</ng-container>

<ng-template #noOptions>
  <p>No options available.</p>
</ng-template>
