<ng-container *ngIf="optionBindings?.length; else noOptions">
  <form [formGroup]="form">

    <!-- SINGLE-ANSWER (only ONE radio-group) -->
    <mat-radio-group *ngIf="optionBindings[0].type === 'single'"
                     formControlName="selectedOptionId"
                     (selectionChange)="onGroupSelectionChange($event.value)">

      <div *ngFor="let b of optionBindings; let i = index; trackBy: trackByOption">
        <label class="option-row options"
               appHighlightOption
               [optionBinding]="b">

          <mat-radio-button [value]="b.option.optionId">
            <span class="opt-text">
              {{ getOptionDisplayText(b.option,i) }}
            </span>
  
            <mat-icon *ngIf="shouldShowIcon(b.option)"
                      class="opt-icon">
              {{ getOptionIcon(b.option) }}
            </mat-icon>
          </mat-radio-button>
        </label>

        <codelab-quiz-feedback
          *ngIf="shouldShowFeedback(i)"
          [feedbackConfig]="feedbackConfigs[i]">
        </codelab-quiz-feedback>
      </div>
    </mat-radio-group>

    <!-- MULTIPLE-ANSWER -->
    <div *ngIf="optionBindings[0].type === 'multiple'">
      <div *ngFor="let b of optionBindings; let i = index; trackBy: trackByOption">
        <label class="option-row"
               appHighlightOption
               [optionBinding]="b">

          <mat-checkbox [checked]="b.option.selected"
                        (change)="onMatCheckboxChanged(b,i,$event)">
            <span class="opt-text">
              {{ getOptionDisplayText(b.option,i) }}
            </span>
              
            <mat-icon *ngIf="shouldShowIcon(b.option)"
                      class="opt-icon">
              {{ getOptionIcon(b.option) }}
            </mat-icon>            
          </mat-checkbox>
        </label>

        <codelab-quiz-feedback
          *ngIf="shouldShowFeedback(i)"
          [feedbackConfig]="feedbackConfigs[i]">
        </codelab-quiz-feedback>
      </div>
    </div>

  </form>
</ng-container>

<ng-template #noOptions><p>No options available.</p></ng-template>
