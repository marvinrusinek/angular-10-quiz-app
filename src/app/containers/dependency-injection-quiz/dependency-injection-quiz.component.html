<mat-card
  [@changeRoute]="animationState$ | async"
  (@changeRoute.done)="animationDoneHandler()"
  *ngIf="question && questionIndex <= totalQuestions"
  class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12">

  <mat-card-header>
    <div mat-card-avatar class="header-image"></div>
    <mat-card-title>{{ quizData?.milestone }} Quiz</mat-card-title>
    <mat-card-subtitle>Assess your knowledge of {{ quizData?.milestone }}</mat-card-subtitle>
  </mat-card-header>

  <mat-card-content>
    <codelab-scoreboard></codelab-scoreboard>

    <section id="question" [class.answered]="answer">
      <span *ngIf="!answer">{{ question?.questionText }}</span>
      <span *ngIf="answer">{{ explanationText }}</span>
    </section>

    <codelab-quiz-question
      [question]="question"
      (answer)="selectedAnswer($event)">
    </codelab-quiz-question>
  </mat-card-content>

  <mat-card-footer>
    <section class="paging">
      <mat-card-actions>
        <nav>
          <div class="prev-question-nav" *ngIf="question && questionIndex > 1">
            <button type="button" mat-raised-button (click)="prevQuestion()">
              <strong>&laquo; Previous</strong>
            </button>
          </div>

          <div class="next-question-nav" *ngIf="question && questionIndex !== totalQuestions">
            <button type="button" mat-raised-button (click)="nextQuestion()">
              <strong>Next &raquo;</strong>
            </button>
          </div>

          <div class="show-score-nav" *ngIf="question && questionIndex === totalQuestions">
            <button type="button" mat-raised-button (click)="results()"
                    disableRipple="true" class="btn btn-outline-primary">
              <strong>Show Your Score</strong>
            </button>
          </div>
        </nav>
      </mat-card-actions>
    </section>

    <section class="progress-bar">
      <ngb-progressbar
        type="success"
        [striped]="true"
        [animated]="true"
        [value]="progressValue"
        class="progress-bar bg-info">
          <strong>{{ progressValue }}%</strong>
      </ngb-progressbar>
    </section>
  </mat-card-footer>
</mat-card>
